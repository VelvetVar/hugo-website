[{"id":0,"href":"/docs/cloud-infra/","title":"AWS Static Website","section":"Docs","content":"Cloud Infrastructure#\rProject Status: Live Production Stack: AWS (S3, CloudFront), Cloudflare, Hugo (Book Theme) Architecture: Serverless Static Website\n1. Architecture Overview#\rThis project utilizes a Serverless Static Website architecture designed for high availability, security, and zero-maintenance scaling. The cost is negligible (Free Tier eligible) while offering enterprise-grade performance.\nDNS: Cloudflare (Manages DNS records and SSL Strict Mode). CDN: AWS CloudFront (Global caching, SSL termination, and Edge Logic). Storage: AWS S3 (Private bucket, accessible only via CloudFront Origin Access Control). Generator: Hugo + Book Theme (Lightweight, no NPM dependencies). 2. Local Development Environment#\rTo manage this site locally, the following software stack is required.\nSoftware Version Purpose Hugo Standard or Extended Generates the static HTML site. AWS CLI v2.x Synchronizes local build files to the S3 bucket. Git Latest Version control and Theme Submodule management. Critical Environment Variables (Windows)#\rThe Windows PATH environment variable was updated to include:\nC:\\Hugo\\bin\\ (Containing hugo.exe) C:\\Program Files\\Amazon\\AWSCLIV2\\ (Note: Node.js and NPM are no longer required).\n3. AWS Infrastructure Setup#\rA. S3 Bucket (Storage)#\rCreated a bucket named [DOMAIN]. Region: us-east-1 (N. Virginia). Public Access: Blocked all public access (Private). Encryption: Enabled (SSE-S3). B. Certificate Manager (SSL)#\rRequested a public certificate in us-east-1 for [DOMAIN] and *.[DOMAIN]. Validated ownership via DNS records in Cloudflare. C. CloudFront (CDN)#\rOrigin: Pointed to S3 Bucket. Origin Access: set to Origin Access Control (OAC) to secure the bucket. Viewer Protocol: Redirect HTTP to HTTPS. Alternate Domain Name: [DOMAIN]. Custom SSL: Attached the ACM Certificate created above. Default Root Object: Set to index.html. D. Edge Logic (The Sub-Directory Fix)#\rTo prevent S3 \u0026ldquo;Access Denied\u0026rdquo; XML errors when visiting sub-pages (e.g., /docs/), a CloudFront Function was implemented on the Viewer Request behavior.\n1. Context and Problem Statement#\rWhen hosting static websites (generated by Hugo) on AWS S3, a common routing issue arises regarding \u0026ldquo;Pretty URLs.\u0026rdquo;\nThe Hugo Output: Hugo generates pages as directories containing an index file (e.g., /docs/index.html). The Browser Request: Users typically navigate to the directory root (e.g., domain.com/docs/). The S3 Behavior: S3 does not automatically serve index.html for sub-directories when accessed via CloudFront. Instead, it looks for an object named docs/ (which does not exist), resulting in a 403 Access Denied or 404 Not Found XML error. To resolve this, we implement a CloudFront Function at the edge to rewrite incoming requests before they reach the S3 origin.\n2. The Solution: append-index-html#\rType: CloudFront Function (ECMAScript 5.1 compliant) Event Trigger: Viewer Request Execution Location: Edge Locations (Global)\nThe Script#\rfunction handler(event) { var request = event.request; var uri = request.uri; // Logic 1: Handle Trailing Slashes // Example: /docs/ -\u0026gt; /docs/index.html if (uri.endsWith(\u0026#39;/\u0026#39;)) { request.uri += \u0026#39;index.html\u0026#39;; } // Logic 2: Handle \u0026#34;Clean\u0026#34; URLs (No Extension) // Example: /docs -\u0026gt; /docs/index.html else if (!uri.includes(\u0026#39;.\u0026#39;)) { request.uri += \u0026#39;/index.html\u0026#39;; } return request; }3. Code Logic Analysis#\rThe function operates on the event object passed by CloudFront. It modifies the request.uri property based on two specific conditions:\n[Image of CloudFront function logic flow chart]\nCondition A: Trailing Slash Detection#\rif (uri.endsWith(\u0026#39;/\u0026#39;)) { ... }Condition B: Extensionless (Clean) URL Detection#\relse if (!uri.includes(\u0026#39;.\u0026#39;)) { ... } "},{"id":1,"href":"/docs/cheatsheet/","title":"Commands: Cheatsheet","section":"Docs","content":"Hugo \u0026amp; AWS Cloud Portfolio Cheatsheet#\rThis reference guide contains the essential commands for managing some of the projects.\nNote: I used placeholders to remove sensitive information from commands or file names.\n1. Setup \u0026amp; Installation#\rInstall Book Theme (Git Submodule) Use this to install the theme without adding node_modules dependencies.\ngit submodule add [https://github.com/alex-shpak/hugo-book](https://github.com/alex-shpak/hugo-book) themes/book2. Content Management#\rCreate New Documentation Page Generates a new markdown file with the default front matter in the specified directory.\nhugo new content/docs/projects/[filename].md3. Local Development#\rStart Local Server Builds the site in memory and hosts it locally for preview. hugo server Access: http://localhost:1313Stop: Press Ctrl + C\n4. Deployment Workflow#\rStep 1: Clean Previous Build (PowerShell) Removes the public folder to ensure no stale files remain.\nRemove-Item -Path \u0026#34;public\u0026#34; -Recurse -Force -ErrorAction SilentlyContinueStep 2: Build Production Site Generates the static HTML files into the public directory, minifying assets for performance.\nhugo --minifyStep 3: Sync to AWS S3 Uploads the new build to your S3 bucket. The \u0026ndash;delete flag ensures files removed locally are also removed from S3.\naws s3 sync ./public s3://[YOUR_DOMAIN] --deleteStep 4: Invalidate CloudFront Cache Forces CloudFront to fetch the latest version of the site from S3 immediately.\naws cloudfront create-invalidation --distribution-id [DISTRIBUTION_ID] --paths \u0026#34;/*\u0026#34;"},{"id":2,"href":"/docs/homelab/","title":"Homelab Setup - Hardware Focus","section":"Docs","content":"Hardware Infrastructure Inventory#\rThis document details the physical assets powering the homelab environment. The infrastructure utilizes a hybrid architecture combining x86-64 high-performance compute nodes with ARM64 low-power edge devices to support virtualization, simulation, and continuous network services.\n1. System Architecture Overview#\rThe environment is designed as a heterogeneous cluster. It prioritizes a balance between raw compute power for virtualization (Type-1 Hypervisor) and energy efficiency for always-on network services.\nPrimary Architecture: x86-64 (Intel Core) Secondary Architecture: ARM64 (Rockchip) Operational Goal: High-performance virtualization with continuous low-power monitoring. 2. Compute Resources#\rPrimary Compute Node#\rDevice: HP ProDesk 600 G6 SFF\nProcessor: Intel Core i5-10500 (6 Cores / 12 Threads @ 3.10 GHz Base) Memory: 32GB DDR4 Storage: 1TB NVMe SSD Form Factor: Small Form Factor (SFF) Hardware Capability: This node serves as the heavy lifter for the lab. It is configured as a high-performance x86 workstation adapted for headless virtualization. The specifications support Type-1 hypervisor deployment (Proxmox VE), multi-tenant virtual machine hosting, and resource-intensive simulation environments.\nSecondary Edge Node#\rDevice: Orange Pi 3b\nProcessor: Rockchip RK3566 (Quad-Core ARM Cortex-A55) Memory: LPDDR4 Connectivity: Gigabit Ethernet, Wi-Fi 5, Bluetooth 5.0 Hardware Capability: A low-power ARM-based Single Board Computer (SBC). Designed for continuous uptime (24/7), it is utilized for lightweight networking services, out-of-band management, and independent environment monitoring separate from the main cluster.\n3. Network Infrastructure#\rManaged Switching#\rDevice: TP-Link TL-SG108E\nType: 8-Port Gigabit Smart Managed Switch Management: Layer 2 Hardware Capability: Supports essential Layer 2 management features including Port Mirroring, QoS, and IGMP Snooping. The hardware is 802.1Q VLAN capable, enabling future implementation of traffic segmentation and network isolation (e.g., separating IoT traffic from Server traffic).\nWAN Gateway \u0026amp; Access Layer#\rDevices: Arris SB8200 \u0026amp; TP-Link Archer AX55\nModem: DOCSIS 3.1 Cable Modem Router: AX3000 Wi-Fi 6 Router Throughput: Gigabit WAN support Hardware Capability: Provides the physical interface to the Wide Area Network (WAN) and local wireless connectivity. The router handles standard NAT, DHCP, and port forwarding functionalities required for external access management and VPN ingress.\n"},{"id":3,"href":"/docs/homelab-services/","title":"Homelab Setup - Services Focus","section":"Docs","content":"Windows AD in Proxmox#\rWindows AD - Rundown on how I installed a Windows Server (2022 Release) in Proxmox VM. Coming soon, working on documentation.#\r"},{"id":4,"href":"/docs/windows-ad/","title":"Windows Server AD on Proxmox","section":"Docs","content":"Setting up Windows Server AD on Proxmox#\rDeploying Windows Server on Proxmox VE requires specific configuration to run efficiently. Windows does not natively support the Linux KVM virtualization architecture; therefore, VirtIO drivers must be injected during installation to ensure proper storage and network performance.\nWhy VirtIO? Without VirtIO drivers, Windows must use emulated IDE/SATA storage and Intel E1000 networking, which results in significant performance degradation. VirtIO allows the guest OS to \u0026ldquo;speak\u0026rdquo; directly to the hypervisor.\nPhase A: The Downloads#\rBefore beginning the VM creation, ensure the following ISO files are uploaded to your Proxmox storage (local \u0026gt; ISO Images \u0026gt; Upload).\nWindows Server 2022 Evaluation Source: Microsoft Evaluation Center Edition: 64-bit ISO. VirtIO Driver ISO Source: Fedora People (Stable) Contents: Required paravirtualized storage and network drivers. Phase B: Virtual Machine Configuration#\rUse the following specifications to balance performance with resource conservation.\n1. General \u0026amp; OS#\rName: DC01 (Standard naming convention). Type: Microsoft Windows. Version: 11/2022. 2. System#\rGraphics Card: Default or SPICE (SPICE offers smoother console performance). Qemu Agent: Checked (Crucial for IP reporting and graceful shutdowns). 3. Disks (Storage)#\rBus/Device: SCSI (Best performance). Storage: local-lvm (or preferred storage). Disk Size: 60 GB (Min: 30GB for OS; 60GB allows for logs/updates). Cache: Write back (Safe for labs; improves speed). Discard: Checked (TRIM support to save SSD space). 4. CPU \u0026amp; Memory#\rCores: 2 (DC tasks are generally low-load). Type: Host (Passes through host CPU features). Memory: Minimum: 2048 MB Recommended: 4096 MB (Server Core) or 6144 MB (Desktop Experience). 5. Network#\rModel: VirtIO (Paravirtualized). Warning: Do not use Intel E1000; VirtIO supports 10Gbps link speeds. Phase C: The \u0026ldquo;Two-CD\u0026rdquo; Trick#\rTo install the OS on a SCSI drive, the installer requires access to the drivers simultaneously.\nNavigate to VM \u0026gt; Hardware. Verify the Windows ISO is attached to the primary CD drive. Click Add \u0026gt; CD/DVD Drive. Select the virtio-win.iso. Result: You must have two CD drives attached before booting: one containing the OS installer, and one containing the drivers.\nPhase D: Installation \u0026amp; Driver Loading#\rStart the VM and open the Console. Select Windows Server 2022 Standard Desktop Experience. Proceed to the screen: \u0026ldquo;Where do you want to install Windows?\u0026rdquo; Note: The list will be empty because Windows cannot see the SCSI drive yet. Click Load Driver \u0026gt; Browse. Navigate to the storage driver: CD Drive (VirtIO) \u0026gt; vioscsi \u0026gt; 2k22 \u0026gt; amd64 Click OK/Next. The 60GB drive will appear. Pro Tip: You can repeat the \u0026ldquo;Load Driver\u0026rdquo; step now for the network driver to ensure connectivity immediately after boot. Navigate to: NetKVM \u0026gt; 2k22 \u0026gt; amd64\nPhase E: Post-Install Configuration#\r1. Guest Tools#\rOnce logged into Windows:\nOpen File Explorer. Open the VirtIO CD drive. Run virtio-win-guest-tools.exe. Result: This installs the QEMU agent and fixes screen resolution and mouse latency. 2. Promote to Domain Controller#\rOpen Server Manager. Go to Manage \u0026gt; Add Roles and Features \u0026gt; Active Directory Domain Services. Complete the installation. Click the Yellow Flag notification icon in the top right. Select Promote this server to a domain controller. Select Add a new forest (e.g., homelab.local or ad.yourname.com). "}]
[{"id":0,"href":"/docs/cheatsheet/","title":"Commands: Cheatsheet","section":"Docs","content":"Hugo \u0026amp; AWS Cloud Portfolio Cheatsheet\nThis reference guide contains the essential commands for managing the Cloud Portfolio project.\nNote: Replace placeholders (e.g., [YOUR_DOMAIN]) with your actual configuration values before running.\nSetup \u0026amp; Installation Install Book Theme (Git Submodule) Use this to install the theme without adding node_modules dependencies.\ngit submodule add https://github.com/alex-shpak/hugo-book themes/book\nContent Management Create New Documentation Page Generates a new markdown file with the default front matter in the specified directory.\nhugo new content/docs/projects/[filename].md\nLocal Development Start Local Server Builds the site in memory and hosts it locally for preview.\nhugo server\nAccess: http://localhost:1313\nStop: Press Ctrl + C\nDeployment Workflow Step 1: Clean Previous Build (PowerShell) Removes the public folder to ensure no stale files remain.\nRemove-Item -Path \u0026ldquo;public\u0026rdquo; -Recurse -Force -ErrorAction SilentlyContinue\nStep 2: Build Production Site Generates the static HTML files into the public directory, minifying assets for performance.\nhugo \u0026ndash;minify\nStep 3: Sync to AWS S3 Uploads the new build to your S3 bucket. The \u0026ndash;delete flag ensures files removed locally are also removed from S3.\naws s3 sync ./public s3://[YOUR_DOMAIN] \u0026ndash;delete\nStep 4: Invalidate CloudFront Cache Forces CloudFront to fetch the latest version of the site from S3 immediately.\naws cloudfront create-invalidation \u0026ndash;distribution-id [DISTRIBUTION_ID] \u0026ndash;paths \u0026ldquo;/*\u0026rdquo;\n"},{"id":1,"href":"/docs/cloud-infra/","title":"Cloud Project: Cloud Portfolio Infrastructure","section":"Docs","content":"Cloud Portfolio Infrastructure#\rProject Status: Live Production Stack: AWS (S3, CloudFront), Cloudflare, Hugo (Book Theme) Architecture: Serverless Static Website\n1. Architecture Overview#\rThis project utilizes a Serverless Static Website architecture designed for high availability, security, and zero-maintenance scaling. The cost is negligible (Free Tier eligible) while offering enterprise-grade performance.\nDNS: Cloudflare (Manages DNS records and SSL Strict Mode). CDN: AWS CloudFront (Global caching, SSL termination, and Edge Logic). Storage: AWS S3 (Private bucket, accessible only via CloudFront Origin Access Control). Generator: Hugo + Book Theme (Lightweight, no NPM dependencies). 2. Local Development Environment#\rTo manage this site locally, the following software stack is required.\nSoftware Version Purpose Hugo Standard or Extended Generates the static HTML site. AWS CLI v2.x Synchronizes local build files to the S3 bucket. Git Latest Version control and Theme Submodule management. Critical Environment Variables (Windows)#\rThe Windows PATH environment variable was updated to include:\nC:\\Hugo\\bin\\ (Containing hugo.exe) C:\\Program Files\\Amazon\\AWSCLIV2\\ (Note: Node.js and NPM are no longer required).\n3. AWS Infrastructure Setup#\rA. S3 Bucket (Storage)#\rCreated a bucket named [DOMAIN]. Region: us-east-1 (N. Virginia). Public Access: Blocked all public access (Private). Encryption: Enabled (SSE-S3). B. Certificate Manager (SSL)#\rRequested a public certificate in us-east-1 for [DOMAIN] and *.[DOMAIN]. Validated ownership via DNS records in Cloudflare. C. CloudFront (CDN)#\rOrigin: Pointed to S3 Bucket. Origin Access: set to Origin Access Control (OAC) to secure the bucket. Viewer Protocol: Redirect HTTP to HTTPS. Alternate Domain Name: [DOMAIN]. Custom SSL: Attached the ACM Certificate created above. Default Root Object: Set to index.html. D. Edge Logic (The Sub-Directory Fix)#\rTo prevent S3 \u0026ldquo;Access Denied\u0026rdquo; XML errors when visiting sub-pages (e.g., /docs/), a CloudFront Function was implemented on the Viewer Request behavior.\nFunction Name: append-index-html Code:\nfunction handler(event) { var request = event.request; var uri = request.uri; // If the URL ends with a slash \u0026#39;/\u0026#39;, add \u0026#39;index.html\u0026#39; to the end if (uri.endsWith(\u0026#39;/\u0026#39;)) { request.uri += \u0026#39;index.html\u0026#39;; } // If the URL doesn\u0026#39;t have a file extension, add \u0026#39;/index.html\u0026#39; else if (!uri.includes(\u0026#39;.\u0026#39;)) { request.uri += \u0026#39;/index.html\u0026#39;; } return request; } "}]